.minion-interaction-layer {
  border-top-left-radius: var(--minion-border-radius);
  border-top-right-radius: var(--minion-border-radius);
  height: 100%;
  width: 100%;
  @include position-absolute(0, 0, 0, 0, 100);

  & + div:before,
  & + div:after {
    border-radius: var(--minion-border-radius);
    content: '';
    height: 100%;
    opacity: 1;
    pointer-events: none;
    width: 100%;
    transition: 200ms ease-in-out;
    transition-property: box-shadow, opacity;
    @include position-absolute(0, 0, 0, 0, -1);
  }

  &[data-render='false'] {
    opacity: 0;
  }
}

.minion-interaction-layer.minion--can_attack {
  cursor: pointer;

  & + div:before {
    box-shadow: 0px 0px 15px 5px rgba(0, 196, 105, 0.465);
  }
}

.minion-interaction-layer.minion--has_guard {
  border-radius: 0;

  & ~ .minion,
  & ~ .minion:before,
  & ~ .minion:after,
  & ~ .minion .image-wrapper,
  & ~ .minion .image-wrapper:before,
  & ~ .minion .image-wrapper:after,
  & ~ .minion .minion__bezel,
  & ~ .minion .minion__bezel:before,
  & ~ .minion .minion__bezel:after {
    border-top-left-radius: 0 !important;
    border-top-right-radius: 0 !important;
  }
}

.minion-interaction-layer.minion--has_warcry {
  box-sizing: border-box;
}

.minion-interaction-layer.minion--has_stampede {
  box-sizing: border-box;
}

.minion-interaction-layer.minion--is_attacking {
  & + div:before {
    opacity: 0;
  }

  & + div:after {
    animation: isAttackingGlow 2500ms infinite;
  }

  & + div {
    z-index: 200;
    pointer-events: none;
  }
}

.minion-interaction-layer.minion--is_not_attacking {
  cursor: default;
  pointer-events: none;

  & + div:before {
    opacity: 0;
  }

  & + div:after {
    animation: none;
  }
}

.minion-interaction-layer.minion--can_be_attacked {
  cursor: pointer;

  & + div:before {
    opacity: 0;
  }

  & + div:after {
    animation: none;
    box-shadow: 0 0 5px #c43800;
  }

  &.minion--has_guard + div:after {
    animation: none;
    box-shadow: 0 0 5px #c43800;
    border-top-left-radius: 0 !important;
    border-top-right-radius: 0 !important;
  }

  &:hover + div:after {
    box-shadow: 0 0 20px #c43800;
  }
}

@keyframes canAttackGlow {
  0% {
    box-shadow: 0 0 -20px #00c469;
  }
  50% {
    box-shadow: 0 0 8px #0ee681;
  }
  100% {
    box-shadow: 0 0 -20px #00c469;
  }
}

@keyframes isAttackingGlow {
  0% {
    box-shadow: 0 0 5px #ecd24f;
  }
  40% {
    box-shadow: 0 0 20px #e9c305;
  }
  60% {
    box-shadow: 0 0 20px #e9c305;
  }
  100% {
    box-shadow: 0 0 5px #ecd24f;
  }
}

// prettier-ignore
.board-slot {
  &.--is-attacking { transform: scale(1.15); }
  &.--target-data-slot-0 { transform: translate3d(-350%, -50%, 0) scale(1.15); }
  &.--target-data-slot-1 { transform: translate3d(-225%, -50%, 0) scale(1.15); }
  &.--target-data-slot-2 { transform: translate3d(-100%, -50%, 0) scale(1.15); }
  &.--target-data-slot-3 { transform: translate3d(0%, -50%, 0) scale(1.15); }
  &.--target-data-slot-4 { transform: translate3d(100%, -50%, 0) scale(1.15); }
  &.--target-data-slot-5 { transform: translate3d(225%, -50%, 0) scale(1.15); }
  &.--target-data-slot-6 { transform: translate3d(350%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="0"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(0%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="1"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(0%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="2"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(-25%, -50%, 0) scale(1.15); }
  &.--target-data-slot-1 { transform: translate3d(25%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="3"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(-100%, -50%, 0) scale(1.15); }
  &.--target-data-slot-1 { transform: translate3d(0%, -50%, 0) scale(1.15); }
  &.--target-data-slot-2 { transform: translate3d(100%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="4"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(-150%, -50%, 0) scale(1.15); }
  &.--target-data-slot-1 { transform: translate3d(-50%, -50%, 0) scale(1.15); }
  &.--target-data-slot-2 { transform: translate3d(50%, -50%, 0) scale(1.15); }
  &.--target-data-slot-3 { transform: translate3d(150%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="5"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(-200%, -50%, 0) scale(1.15); }
  &.--target-data-slot-1 { transform: translate3d(-100%, -50%, 0) scale(1.15); }
  &.--target-data-slot-2 { transform: translate3d(0%, -50%, 0) scale(1.15); }
  &.--target-data-slot-3 { transform: translate3d(100%, -50%, 0) scale(1.15); }
  &.--target-data-slot-4 { transform: translate3d(200%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-their-board-length="6"] .board-slot {
  &.--target-data-slot-0 { transform: translate3d(-275%, -50%, 0) scale(1.15); }
  &.--target-data-slot-1 { transform: translate3d(-150%, -50%, 0) scale(1.15); }
  &.--target-data-slot-2 { transform: translate3d(-35%, -50%, 0) scale(1.15); }
  &.--target-data-slot-3 { transform: translate3d(35%, -50%, 0) scale(1.15); }
  &.--target-data-slot-4 { transform: translate3d(150%, -50%, 0) scale(1.15); }
  &.--target-data-slot-5 { transform: translate3d(275%, -50%, 0) scale(1.15); }
}

// prettier-ignore
[data-your-board-length="1"] .board-slot {
  &[data-slot='0'].--target-other-player { transform: translate3d(0%, -175%, 0) scale(1.15); }
}

// prettier-ignore
[data-your-board-length="2"] .board-slot {
  &[data-slot='0'].--target-other-player { transform: translate3d(65%, -175%, 0) scale(1.15); }
  &[data-slot='1'].--target-other-player { transform: translate3d(-55%, -175%, 0) scale(1.15); }
}
